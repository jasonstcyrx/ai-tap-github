The REST API is now versioned. For more information, see "About API versioning."REST API/Dependency graph/Dependency submissionREST API endpoints for dependency submissionUse the REST API to submit dependencies.About dependency submissions

Note: The ability to use the REST API for dependency submission is currently in public beta and subject to change.

You can use the REST API to submit dependencies for a project. This enables you to add dependencies, such as those resolved when software is compiled or built, to GitHub's dependency graph feature, providing a more complete picture of all of your project's dependencies.
The dependency graph shows any dependencies you submit using the API in addition to any dependencies that are identified from manifest or lock files in the repository (for example, a package-lock.json file in a JavaScript project). For more information about viewing the dependency graph, see "Exploring the dependencies of a repository."
Submitted dependencies will receive Dependabot alerts and Dependabot security updates for any known vulnerabilities. You will only get Dependabot alerts for dependencies that are from one of the supported ecosystems for the GitHub Advisory Database. For more information about these ecosystems, see "About the GitHub Advisory database." For transitive dependencies submitted via the dependency submission API, Dependabot will automatically open pull requests to update the parent dependency, if an update is available.
Submitted dependencies will be shown in dependency review, but are not available in your organization's dependency insights.

Note: The dependency review API and the dependency submission API work together. This means that the dependency review API will include dependencies submitted via the dependency submission API. This feature is currently in public beta and subject to change.

You can submit dependencies in the form of a snapshot. A snapshot is a set of dependencies associated with a commit SHA and other metadata, that reflects the current state of your repository for a commit.  You can choose to use pre-made actions or create your own actions to submit your dependencies in the required format each time your project is built. For more information, see "Using the dependency submission API."
You can submit multiple sets of dependencies to be included in your dependency graph. The REST API uses the job.correlator property and the detector.name category of the snapshot to ensure the latest submissions for each workflow get shown. The correlator property itself is the primary field you will use to keep independent submissions distinct. An example correlator could be a simple combination of two variables available in actions runs: <GITHUB_WORKFLOW> <GITHUB_JOB>.Create a snapshot of dependencies for a repositoryCreate a new snapshot of a repository's dependencies.
The authenticated user must have access to the repository.
OAuth app tokens and personal access tokens (classic) need the repo scope to use this endpoint.Fine-grained access tokens for "Create a snapshot of dependencies for a repository"This endpoint works with the following token types:GitHub App user access tokensGitHub App installation access tokensFine-grained personal access tokensThe token must have the following permission set:contents:writeParameters for "Create a snapshot of dependencies for a repository"HeadersName, Type, Descriptionaccept string Setting to application/vnd.github+json is recommended.Path parametersName, Type, Descriptionowner string RequiredThe account owner of the repository. The name is not case sensitive.repo string RequiredThe name of the repository without the .git extension. The name is not case sensitive.Body parametersName, Type, Descriptionversion integer RequiredThe version of the repository snapshot submission.job object RequiredProperties of jobName, Type, Descriptionid string RequiredThe external ID of the job.correlator string RequiredCorrelator provides a key that is used to group snapshots submitted over time. Only the "latest" submitted snapshot for a given combination of job.correlator and detector.name will be considered when calculating a repository's current dependencies. Correlator should be as unique as it takes to distinguish all detection runs for a given "wave" of CI workflow you run. If you're using GitHub Actions, a good default value for this could be the environment variables GITHUB_WORKFLOW and GITHUB_JOB concatenated together. If you're using a build matrix, then you'll also need to add additional key(s) to distinguish between each submission inside a matrix variation.html_url string The url for the job.sha string RequiredThe commit SHA associated with this dependency snapshot. Maximum length: 40 characters.ref string RequiredThe repository branch that triggered this snapshot.detector object RequiredA description of the detector used.Properties of detectorName, Type, Descriptionname string RequiredThe name of the detector used.version string RequiredThe version of the detector used.url string RequiredThe url of the detector used.metadata object User-defined metadata to store domain-specific information limited to 8 keys with scalar values.manifests object A collection of package manifests, which are a collection of related dependencies declared in a file or representing a logical group of dependencies.Properties of manifestsName, Type, Descriptionkey object A user-defined key to represent an item in manifests.Properties of keyName, Type, Descriptionname string RequiredThe name of the manifest.file object Properties of fileName, Type, Descriptionsource_location string The path of the manifest file relative to the root of the Git repository.metadata object User-defined metadata to store domain-specific information limited to 8 keys with scalar values.resolved object A collection of resolved package dependencies.Properties of resolvedName, Type, Descriptionkey object A user-defined key to represent an item in resolved.Properties of keyName, Type, Descriptionpackage_url string Package-url (PURL) of dependency. See https://github.com/package-url/purl-spec for more details.metadata object User-defined metadata to store domain-specific information limited to 8 keys with scalar values.relationship string A notation of whether a dependency is requested directly by this manifest or is a dependency of another dependency.Can be one of: direct, indirect scope string A notation of whether the dependency is required for the primary build artifact (runtime) or is only used for development. Future versions of this specification may allow for more granular scopes.Can be one of: runtime, development dependencies array of strings Array of package-url (PURLs) of direct child dependencies.scanned string RequiredThe time at which the snapshot was scanned.HTTP response status codes for "Create a snapshot of dependencies for a repository"Status codeDescription201CreatedCode samples for "Create a snapshot of dependencies for a repository"Request examplepost/repos/{owner}/{repo}/dependency-graph/snapshotscURLJavaScriptGitHub CLIcurl -L \
  -X POST \
  -H "Accept: application/vnd.github+json" \
  -H "Authorization: Bearer <YOUR-TOKEN>" \
  -H "X-GitHub-Api-Version: 2022-11-28" \
  https://api.github.com/repos/OWNER/REPO/dependency-graph/snapshots \
  -d '{"version":0,"sha":"ce587453ced02b1526dfb4cb910479d431683101","ref":"refs/heads/main","job":{"correlator":"yourworkflowname_youractionname","id":"yourrunid"},"detector":{"name":"octo-detector","version":"0.0.1","url":"https://github.com/octo-org/octo-repo"},"scanned":"2022-06-14T20:25:00Z","manifests":{"package-lock.json":{"name":"package-lock.json","file":{"source_location":"src/package-lock.json"},"resolved":{"@actions/core":{"package_url":"pkg:/npm/%40actions/core@1.1.9","dependencies":["@actions/http-client"]},"@actions/http-client":{"package_url":"pkg:/npm/%40actions/http-client@1.0.7","dependencies":["tunnel"]},"tunnel":{"package_url":"pkg:/npm/tunnel@0.0.6"}}}}}'ResponseExample responseResponse schemaStatus: 201{
  "id": 12345,
  "created_at": "2018-05-04T01:14:52Z",
  "message": "Dependency results for the repo have been successfully updated.",
  "result": "SUCCESS"
}